<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<ui:composition template="/WEB-INF/template/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

	<f:metadata>
		<f:viewParam name="id" value="#{cadCliMB.paramId}" />
		<f:viewAction action="#{cadCliMB.editar}" />
	</f:metadata>

	<ui:define name="corpo">
		<h2>Cadastro de Cliente</h2>
		<h:form id="frm">
			<p:messages showDetail="true" showSummary="true" autoUpdate="true"
				closable="true" />
			<p:panelGrid columns="2" cellspacing="5">
				<p:outputLabel value="ID: " />
				<p:inputText value="#{cadCliMB.cliente.id}" size="5" disabled="true" />

				<p:outputLabel value="Tipo de Cliente: " />
				<p:selectOneRadio value="#{cadCliMB.cliente.pessoa}">
					<f:selectItem itemValue="F" itemLabel="Pessoa Física" />
					<f:selectItem itemValue="J" itemLabel="Pessoa Jurídica" />
				</p:selectOneRadio>

				<p:outputLabel value="Nome do Cliente: " />
				<p:inputText value="#{cadCliMB.cliente.nome}" size="30"
					required="true" requiredMessage="Faltou o nome do cliente">
					<f:validateLength minimum="3" maximum="60" />
					<p:ajax event="blur" update="@this" />
				</p:inputText>

				<p:outputLabel value="CPF/CNPJ: " />
				<p:inputText value="#{cadCliMB.cliente.cpf_cnpj}" size="30">
					<p:ajax event="blur" update="@this" />
				</p:inputText>

				<p:outputLabel value="Telefone: " />
				<p:inputText value="#{cadCliMB.cliente.fone}">
					<p:ajax event="blur" update="@this" />
				</p:inputText>

				<p:outputLabel value="E-mail: " />
				<p:inputText value="#{cadCliMB.cliente.email}">
					<p:ajax event="blur" update="@this" />
				</p:inputText>

				<p:outputLabel value="Estado: " />
				<p:selectOneMenu value="#{cadCliMB.cliente.estado}" required="true"
					requiredMessage="Faltou selecionar o estado">
					<f:selectItem itemLabel="Selecione o Estado" />
					<f:selectItems value="#{cadCliMB.estados}" var="v" itemLabel="#{v}" />
				</p:selectOneMenu>

				<p:outputLabel value="Cidade: " />
				<p:autoComplete value="#{cadCliMB.cliente.cidade}" required="true"
					requiredMessage="Faltou o nome da cidade"
					completeMethod="#{cadCliMB.pesquisarCidades}"
					validatorMessage="Cidade deve conter entre 3 e 30 caracteres">

					<f:validateLength minimum="3" maximum="30" />
				</p:autoComplete>

				<p:outputLabel value="Rua: " />
				<p:inputText value="#{cadCliMB.cliente.rua}"
					validatorMessage="Rua pode conter até 30 caracteres">
					<f:validateLength maximum="30" />
					<f:ajax event="blur" update="@this" />
				</p:inputText>

				<p:outputLabel value="Bairro: " />
				<p:inputText value="#{cadCliMB.cliente.bairro}"
					validatorMessage="Bairro pode conter até 30 caracteres">
					<f:validateLength maximum="30" />
					<f:ajax event="blur" update="@this" />
				</p:inputText>

				<p:outputLabel value="CEP: 12345679" />
				<p:inputText value="#{cadCliMB.cliente.cep}">
					<f:ajax event="blur" update="@this" />
				</p:inputText>

				<p:commandButton value="Cadastrar" action="#{cadCliMB.guardar}"
					icon="ui-icon-disk" />
			</p:panelGrid>
		</h:form>
	</ui:define>

</ui:composition>